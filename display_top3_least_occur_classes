
const classList = $0.classList;
const classInfoList = [];
for (const className of classList) {
    const elements = Array.from(document.getElementsByClassName(className));
    const count = elements.length;
    classInfoList.push({
        className: className,  
        count: count,     
        elements: elements   
    });
}

classInfoList.sort((a, b) => {
    if (a.count !== b.count) {
        return a.count - b.count; // 优先按次数升序
    }
    return a.className.localeCompare(b.className);
});

const getRankedResult = (rank) => {
    const index = rank - 1;
    if (index < classInfoList.length) {
        return classInfoList[index];
    }
    return { className: null, count: null, elements: [] }; 
};

const firstLeast = getRankedResult(1);
const secondLeast = getRankedResult(2);
const thirdLeast = getRankedResult(3);


console.log("===== top 3 least occurring classes of $0 =====");
console.log(`1st least: ${firstLeast.className} | occurs: ${firstLeast.count} | class:`, firstLeast.elements);
console.log(`2nd least: ${secondLeast.className} | occurs: ${secondLeast.count} | class:`, secondLeast.elements);
console.log(`3rd least: ${thirdLeast.className} | occurs: ${thirdLeast.count} | class:`, thirdLeast.elements);

// 也可以返回整合后的结果数组（按需使用）
const top3Least = [firstLeast, secondLeast, thirdLeast];
